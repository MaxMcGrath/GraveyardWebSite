<?php

$minimapdir ='maps/mini/';
$fullmapdir ='maps/full/';
$mapdir ='maps/maps/';

$twomaps=array(//2 player maps
	"Jungle Basin (2)","junglebasin.png","A SC2 re-make map","junglebasin.jpg","junglebasin.zip","temperate","112x143"
	,"Road Rage (2)","roadrage.png","An odd map with a bunch of neutral spawning vehicals","roadrage.jpg","roadrage.zip","urban","75x78"
	,"Virgin Moscow (2)","virginmoscow.png","An odd map with a bunch of neutral spawning infantry","virginmoscow.jpg","virginmoscow.zip","snow","77x77"
	,"BloodShed Reef (2)","bloodreef.png","An island map made from a google maps satellite image","bloodreef.jpg","bloodreef.zip","temperate","190x110"
	,"Car Park Shift (2)","carhift.png","A re-sizeing map, about 15 min tell map gets wider and opens ground path<br>Red lines show starting size","carhift.jpg","carhift.zip","urban","128x127"
	,"Midway Rapids (2)","midrap.png","Cropped map from old Farm Land (2-8) map (page 1)","midrap.jpg","midrap.zip","temperate","110x100"
	,"Unfair Grounds (2)
","fairgro.png","Cropped map from old Port Royal (2-8) map","fairgro.jpg","fairgro.zip","newurban","150x100"
	,"Northern Metropolis (2)","normetro.png","Cropped map from Port Royal (2-8) map","normetro.jpg","normetro.zip","newurban","85x185"
	,"Central Elevation (2)","cenelev.png","Cropped map from old Farm Land (2-8) map (page 1)","cenelev.jpg","cenelev.zip","temperate","100x100"
	,"Branched Boondocks (2)
","branboon.png","Cropped map from Port Royal (2-8) map","branboon.jpg","branboon.zip","newurban","125x85"
	,"Halo Destruction (2)","halo.png","A small 2 player symmetrical map","halo.jpg","halo.zip","temperate","95x95"
	,"Public Combat (2)
","pubcom.bmp","A small 2 player urban map, theme based off Bay of Pigs","pubcom.jpg","pubcom.zip","urban","75x78"
	,"Situation Critical (2)","situation.png","A Red Alert map made for Yuris Revenge","situation.jpg","situation.zip","snow","120x170"
	);

$threemaps=array(//3 player maps
	"Marshall Island (2-3)","marland.png","An island map re-sizeing map, with a nuke strike at the center","marland.jpg","marland.zip","temperate","115x150"
	,"Dahlac Marine (2-3)","dahlac.png","An island map made from a google maps satellite image","dahlac.jpg","dahlac.zip","desert","175x120"
	,"Coburg Island(2-3)","coburg.png","An island map made from a google maps satellite image","coburg.jpg","coburg.zip","snow","152x143"
	,"Aegean Sea (2-3)","aegean.png","An island map made from a google maps satellite image","aegean.jpg","aegean.zip","temperate","180x120"
	,"Isla Nublar (2-3)","nublar.png","NA-NUH-NA-NA-NAH! Welcome to Jurassic Park!","nublar.jpg","nublar.zip","temperate","144x171"
	,"Ternary Plantation (2-3)","terplant.png","Cropped map from old Farm Land (2-8) map (page 1)","terplant.jpg","terplant.zip","temperate","150x75"
	,"Downtown Encounter (2-3)","downtown.png","Cropped map from Port Royal (2-8) map","downtown.jpg","downtown.zip","newurban","100x150"
	,"Blizzard Triplication (2-3)","triplication.png","A 3 player snow symmetrical island map","triplication.jpg","triplication.zip","snow","120x145"
	);

$fourmaps=array(//4 player maps
	"Witch Haven (2-4)","witchmap.png","Happy Halloween!!!<br>A silly halloween themed 4 player map","witchmap.jpg","witchmap.zip","temperate","139x151"
	,"Distric of Colombia (2-4)","dcolombia.png","An map of Distric of Colombia","dcolombia.jpg","dcolombia.zip","newurban","115x140"
	,"Skull Islands (2-4)","skullis.png","A 4 player symmetrical map","skullis.jpg","skullis.zip","temperate","140x150"
	,"Kickin' Company (2-4)
","company.png","An island map made from a google maps satellite image","company.jpg","company.zip","temperate","181x114"
	,"Desolate Metropolis (2-4)
","desometro.png","A 4 player symmetrical map","desometro.jpg","desometro.zip","desert","260x135"
	,"To The ARC
 (2-4)","toarc.png","An odd map with a bunch of neutral spawning animals","toarc.jpg","toarc.zip","temperate","104x104"
	,"Auto Downfall (2-4)
","autodown.png","An odd map with a bunch of neutral spawning vehicals","autodown.jpg","autodown.zip","urban","103x121"
	,"Abeloya(2-4)
","abeloya.png","An island map made from a google maps satellite image","abeloya.jpg","abeloya.zip","snow","165x130"
	,"Rocky Surf (2-4)
","rockysurf.png","An island map made from a google maps satellite image","rockysurf.jpg","rockysurf.zip","temperate","140x180"
	,"Dusty Canyon (2-4)
","duscan.png","A 4 player symmetrical map","duscan.jpg","duscan.zip","temperate","100x100"
	,"The Pinch (2-4)","pinch.png","A 4 player symmetrical map with a central choke point","pinch.jpg","pinch.zip","desert","125x100"
	,"Aqua Speculum (2-4)","aqua.png","A 4 player symmetrical island map thats great for navel battles","aqua.jpg","aqua.zip","temperate","120x145"
	);

$fivemaps=array(//5 player maps
	"Communist Combat (2-5)","soviet.png","An map in the shape of the Soviet logo","soviet.jpg","soviet.zip","desert","150x155"
	,"Kongsoya (2-5)","kongsoya.png","An island map made from a google maps satellite image","kongsoya.jpg","kongsoya.zip","snow","175x140"
	,"Santorini Island (2-5)","santorini.png","An island map made from a google maps satellite image","santorini.jpg","santorini.zip","temperate","160x175"
	);

$sixmaps=array(//6 player maps
	"Arid Arachnid (2-6)","spidermap.png","Happy Halloween!!!<br>A silly halloween themed 6 player map","spidermap.jpg","spidermap.zip","desert","144x151"
	,"Devils Refuge (2-6)","devilmap.png","Happy Halloween!!!<br>A silly halloween themed 6 player map","devilmap.jpg","devilmap.zip","snow","147x148"
	,"Reaper Enclave (2-6)","grimmap.png","Happy Halloween!!!<br>A silly halloween themed 6 player map","grimmap.jpg","grimmap.zip","temperate","137x168"
	,"In The Seam (2-6)","theseam.png","A symmetrical 6 player map","theseam.jpg","theseam.zip","temperate","249x145"
	,"Sextuplet Bluff (2-6)","sextuplet.png","A symmetrical 6 player map","sextuplet.jpg","sextuplet.zip","desert","252x124"
	,"Mirage Shock Sector (2-6)","mirageshock.png","An island map made from a google maps satellite image","mirageshock.jpg","mirageshock.zip","desert","159x146"
	,"Agattu Island (2-6)","agattu.png","An island map made from a google maps satellite image","agattu.jpg","agattu.zip","temperate","155x180"
	,"Straight Shot (2-6)","straight.png","A symmetrical 6 player map","straight.jpg","straight.zip","temperate","128x127"
	,"Civic Violence (2-6)","civvio.png","A large 6 player urban map","civvio.jpg","civvio.zip","urban","125x150"
	);

$sevenmaps=array(//7 player maps
	"Circal Jerk (2-7)

","circaljerk.png","A symmetrical 7 player map, the center player gets extra stuff","circaljerk.jpg","circaljerk.zip","urban","129x125"
	,"Nora Island (2-7)

","nora.png","An island map made from a google maps satellite image","nora.jpg","nora.zip","desert","160x145"
	,"Tokashiki (2-7)

","tokashiki.png","An island map made from a google maps satellite image","tokashiki.jpg","tokashiki.zip","temperate","160x135"
	);

$eightmaps=array(//8 player maps   
	"Valley of Death (2-8)","valleydeath.png","A large 8 player map","valleydeath.jpg","valleydeath.zip","temperate","199x199"
	,"Desert Credit (2-8)
","credit.png","A large 8 player desert map","credit.jpg","credit.zip","desert","199x199
"
	,"Port Royal (2-8)","portroy.png","A large 8 player new urban map","portroy.jpg","portroy.zip","newurban","200x200"
	,"Dusty Avalanche (2-8)
","dustava.png","A large 8 player desert map","dustava.jpg","dustava.zip","desert","178x178
"
	,"Territory Encroachment (2-8)","encroachment.png","A large 8 player temperate map","encroachment.jpg","encroachment.zip","temperate","200x200"
	,"Bow-Tie Canyon (2-8)","bowtie.png","A symmetrical 8 player map","bowtie.jpg","bowtie.zip","temperate","169x152"
	,"In The Pipe (2-8)","pipe.png","A symmetrical 8 player map","pipe.jpg","pipe.zip","desert","70x185"
	,"Frosted Reft (2-8)","frostedreft.png","A symmetrical 8 player map","frostedreft.jpg","frostedreft.zip","snow","131x136"
	);


session_start();

$_SESSION["twoplayer"]="true";
$_SESSION["threeplayer"]="true";
$_SESSION["fourplayer"]="true";
$_SESSION["fiveplayer"]="true";
$_SESSION["sixplayer"]="true";
$_SESSION["sevenplayer"]="true";
$_SESSION["eightplayer"]="true";
$_SESSION["temperate"]="true";
$_SESSION["snow"]="true";
$_SESSION["urban"]="true";
$_SESSION["desert"]="true";
$_SESSION["newurban"]="true";

if($_GET["search"]=="Search"){
	if($_GET["twoplayer"]!='two'){$_SESSION["twoplayer"]="false";}
	if(empty($_GET["threeplayer"])){$_SESSION["threeplayer"]="false";}
	if(empty($_GET["fourplayer"])){$_SESSION["fourplayer"]="false";}
	if(empty($_GET["fiveplayer"])){$_SESSION["fiveplayer"]="false";}
	if(empty($_GET["sixplayer"])){$_SESSION["sixplayer"]="false";}
	if(empty($_GET["sevenplayer"])){$_SESSION["sevenplayer"]="false";}
	if(empty($_GET["eightplayer"])){$_SESSION["eightplayer"]="false";}
	if(empty($_GET["temperate"])){$_SESSION["temperate"]="false";}
	if(empty($_GET["snow"])){$_SESSION["snow"]="false";}
	if(empty($_GET["urban"])){$_SESSION["urban"]="false";}
	if(empty($_GET["desert"])){$_SESSION["desert"]="false";}
	if(empty($_GET["newurban"])){$_SESSION["newurban"]="false";}
}

$infoChunk=7;

$maps=[];

if($_SESSION["twoplayer"] == "true"){$maps=array_merge($maps,$twomaps);}
if($_SESSION["threeplayer"] == "true"){$maps=array_merge($maps,$threemaps);}
if($_SESSION["fourplayer"] == "true"){$maps=array_merge($maps,$fourmaps);}
if($_SESSION["fiveplayer"] == "true"){$maps=array_merge($maps,$fivemaps);}
if($_SESSION["sixplayer"] == "true"){$maps=array_merge($maps,$sixmaps);}
if($_SESSION["sevenplayer"] == "true"){$maps=array_merge($maps,$sevenmaps);}
if($_SESSION["eightplayer"] == "true"){$maps=array_merge($maps,$eightmaps);}


function checkType($type){
	switch($type){
		case "temperate":
			if($_SESSION["temperate"]=="true"){
				return "true";
			}
			break;
		case "snow":
			if($_SESSION["snow"]=="true"){
				return "true";
			}
			break;
		case "urban":
			if($_SESSION["urban"]=="true"){
				return "true";
			}
			break;
		case "desert":
			if($_SESSION["desert"]=="true"){
				return "true";
			}
			break;
		case "newurban":
			if($_SESSION["newurban"]=="true"){
				return "true";
			}
			break;
	}
	return "false";
}

echo 'This page can contain ' . (string)((count($twomaps)/$infoChunk) + (count($threemaps)/$infoChunk) + (count($fourmaps)/$infoChunk) + (count($fivemaps)/$infoChunk) + (count($sixmaps)/$infoChunk) + (count($sevenmaps)/$infoChunk) + (count($eightmaps)/$infoChunk))
	. ' maps. Use can use the checkboxes below to narrow selection.';

echo '<br>'
	. '<form action="index.php" method="GET">'
	. '<input type="hidden" id="page" name="page" value="2"'
	. '<div style="border: 1px solid black;color:#9C8F59;display:inline;">Number of players: </div> '
	. '<input type="checkbox" id="twoplayer" name="twoplayer" value="two"' . (($_SESSION["twoplayer"]=="true")?'checked':'') . '> 2 '
	. '<input type="checkbox" id="threeplayer" name="threeplayer" value="three"' . (($_SESSION["threeplayer"]=="true")?'checked':'') . '> 3 '
	. '<input type="checkbox" id="fourplayer" name="fourplayer" value="four"' . (($_SESSION["fourplayer"]=="true")?'checked':'') . '> 4 '
	. '<input type="checkbox" id="fiveplayer" name="fiveplayer" value="five"' . (($_SESSION["fiveplayer"]=="true")?'checked':'') . '> 5 '
	. '<input type="checkbox" id="sixplayer" name="sixplayer" value="six"' . (($_SESSION["sixplayer"]=="true")?'checked':'') . '> 6 '
	. '<input type="checkbox" id="sevenplayer" name="sevenplayer" value="seven"' . (($_SESSION["sevenplayer"]=="true")?'checked':'') . '> 7 '
	. '<input type="checkbox" id="eightplayer" name="eightplayer" value="eight"' . (($_SESSION["eightplayer"]=="true")?'checked':'') . '> 8 '
	. '<div style="border: 1px solid black;color:#9C8F59;display:inline;"> Map Type: </div> '
	. '<input type="checkbox" id="temperate" name="temperate" value="Temperate"' . (($_SESSION["temperate"]=="true")?'checked':'') . '> Temperate '
	. '<input type="checkbox" id="snow" name="snow" value="Snow"' . (($_SESSION["snow"]=="true")?'checked':'') . '> Snow '
	. '<input type="checkbox" id="urban" name="urban" value="Urban"' . (($_SESSION["urban"]=="true")?'checked':'') . '> Urban '
	. '<input type="checkbox" id="desert" name="desert" value="Desert"' . (($_SESSION["desert"]=="true")?'checked':'') . '> Desert '
	. '<input type="checkbox" id="newurban" name="newurban" value="NewUrban"' . (($_SESSION["newurban"]=="true")?'checked':'') . '> New Urban '
	. '<input type="submit" id="search" name="search" value="Search">'
	. '</form><br>';


for($x=0;$x!=count($maps);$x+=$infoChunk){
	if(checkType($maps[$x+5])=="true"){
		if($x>0){
			echo '<br>';
		}
		echo '<table class="newsblockheader" align="center">'
				. '<tr>'
					. '<td class="newsheader">'
						. 'Yuri\'s Revenge: ' . $maps[$x]
						. '<div style="float: right;">Map Size: ' . $maps[$x + 6] . '&nbsp;&nbsp;</div>'
					. '</td>'
				. '</tr>'
			. '</table>'
			. '<table class="newsblockbody" align="center" style="height: 125px;">'
				. '<tr>'
					. '<td class="newsbody">'
						. '<table>'
							. '<tr>'
								. '<td class="imagearea" rowspan="2" style="width: 220px;">'//background-color: #3D3D3D;
									. '<a href="' . $fullmapdir . $maps[$x+3] . '" target="_blank"><img class="mapimg" src="' . $minimapdir . $maps[$x+1] . '"></a>'
									. '<br>Click Image To Enlarge'
								. '</td>'
								. '<td class="description" style="height: 80px;">'
									. $maps[$x+2]
								. '</td>'
							. '</tr>'
							. '<tr>'
								. '<td class="downloadbar">'
									. '<a href="' . $mapdir . $maps[$x+4] . '" download>Click Here To Download ' . $maps[$x] . '</a>'
								. '</td>'
							. '</tr>'
						. '</table>'
					. '</td>'
				. '</tr>'
			. '</table>';
	}
}
?>